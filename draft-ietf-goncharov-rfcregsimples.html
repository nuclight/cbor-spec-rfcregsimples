<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>CBOR Simple Values Range for Packing and Templating</title>
<meta content="Vadim Goncharov" name="author">
<meta content="
       TODO
Updates: 8949
Category: Draft Standard 
       The Concise Binary Object Representation (CBOR, RFC 8949 == STD 94)
is a data format whose design goals include the possibility of
extremely small code size, fairly small message size, and
extensibility without the need for version negotiation. 
       CBOR does not provide any forms of data compression.
While
traditional data compression techniques such as DEFLATE (RFC 1951)
can work well for CBOR encoded data items, their disadvantage is that
the recipient needs to decompress the compressed form to make use of
the data. 
       This document describes a set of CBOR simple values which can be used
by different specifications utilizing them for CBOR transformations,
such as compression or templating, in a non-conflicting way.
This
allows for future standards to reuse the smallest values range while
inventing better ways to use them for achieving their goals. 
    " name="description">
<meta content="xml2rfc 3.30.2" name="generator">
<meta content="next generation" name="keyword">
<meta content="unicorn" name="keyword">
<meta content="sparkling distributed ledger" name="keyword">
<meta content="draft-ietf-goncharov-rfcregsimples-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.30.2
    Python 3.12.11
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.6
    lxml 5.3.1
    platformdirs 4.4.0
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.5
    setuptools 80.9.0
    wcwidth 0.2.14
-->
<link href="draft-ietf-goncharov-rfcregsimples.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  --font-title: "Sofia Sans Semi Condensed", sans-serif;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
section {
  clear: both;
}
.section-number {
  padding-right: 0.5em;
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-title);
  font-weight: 680;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
  vertical-align: top;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
  & :is(ol, ul) {
    margin-left: 1em;
  }
}
li {
  margin: 0 0 0.25em 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
  & li {
    margin-top: 0.5em;
  }
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  margin: 0 0 0 2em;
  & li {
    margin: 0;
    & :first-child { margin-top: 0; }
    & :last-child { margin-bottom: 0; }
  }
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
  &.olPercent {
    --indent: 5ch;
    & > dt {
      min-width: calc(var(--indent) - 2ch);
    }
  }
  &.olPercent > dt {
    float: none;
  }

  dl > dd > & {
    margin-top: 0.5em;
    margin-bottom: 0;
  }
}
dl:not(.dlNewline) > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
  & > :is(:first-child, .break:first-child + *) {
    margin-top: 0;
  }
  & > :is(:last-child) {
    margin-bottom: 0;
  }
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
  caption-side: bottom;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    /* In the horizontal direction, sometimes people make over-sized figures.
       Scrollbars for those is therefore necessary: auto adds them as necessary..
       In the vertical direction, the line-height can combine with the font
       asender/descender height to produce scrollbars: hidden avoids that. */
    overflow: auto hidden;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: auto;
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
  &[href] {
    color: var(--pilcrow-weak);
    &:hover { text-decoration: none; }
  }
}
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
  & dt {
    width: var(--identifier-width);
    min-width: var(--identifier-width);
    clear: left;
    float: left;
    text-align: right;
    margin-right: 1ch;
  }
  & dd {
    margin: 0;
    margin-left: calc(1em + var(--identifier-width)) !important;
    min-width: 5em;
  }
  & .authors {
    & .author {
      display: inline-block;
      margin-right: 1.5em;
    }
    & .org {
      font-style: italic;
    }
  }
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;

  & nav {
    & ul {
      margin: 0 0.5em 0 0;
      padding: 0;
      list-style: none;
    }
    & li {
      line-height: 1.3em;
      margin: 2px 0;
      padding-left: 1.2em;
      text-indent: -1.2em;
    }
  }
  & a.xref {
    white-space: normal;
  }
}

.references {
  & > dt {
    text-align: right;
    font-weight: bold;
    min-width: 10ch;
    margin-right: 1.5ch;
    &:target::before {
      content: "⇒";
      margin: 0 10px 0 -25px;
    }
  }
  & > dd {
    margin-left: 12ch !important;
    overflow: visible;
    & .refInstance {
      margin-bottom: 0.8em;
    }
    & .ascii {
      margin-bottom: 0.25em;
    }
  }
}

#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  max-width: 20em;
  margin: 1em auto 1em 0;

  & .nameRole {
    font-weight: 700;
    margin-left: 0;
  }
  & .label {
    margin: 0.5em 0;
  }
  & .type {
    display: none;
  }
  & .alternative-contact {
    margin: 0.5em 0 0.25em 0;
  }
  & .non-ascii {
    margin: 0 0 0 2em;
  }
  & div.left {
    text-align: left;
  }
  & div.right {
    text-align: right;
  }
}

hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

/* Comments */
.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}

@media screen {
  #toc nav {
    font-family: var(--font-title);
    font-weight: 360;
    & > ul { margin-bottom: 2em; }
    & ul {
      margin: 0 0 0 4px;
      & :is(p, li) {
        margin: 2px 0;
      }
    }
  }
  #toc a.toplink {
    float: right;
  }
}
@media not screen {
  #toc a.toplink {
    display: none;
  }
}


/* TOC layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
    &::before { /* css hamburger */
      float: right;
      position: relative;
      width: 1em;
      height: 1px;
      left: -164px;
      margin: 8px 0 0 0;
      background: white none repeat scroll 0 0;
      box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
      content: "";
    }
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active {
    opacity: 1;
    & nav { display: block; }
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:is(:link, :focus, :hover),
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin: 2px 0.5em 0;
  }
}

/* TOC layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
  #toc a.toplink {
    margin: 8px 0.5em 0;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">TODO - Abbreviation</td>
<td class="right">October 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Goncharov</td>
<td class="center">Expires 19 April 2026</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-goncharov-rfcregsimples-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-10-16" class="published">16 October 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2026-04-19">19 April 2026</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">V. Goncharov</div>
<div class="org">Your Organization Here</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">CBOR Simple Values Range for Packing and Templating</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">TODO
Updates: 8949
Category: Draft Standard<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">The Concise Binary Object Representation (CBOR, RFC 8949 == STD 94)
is a data format whose design goals include the possibility of
extremely small code size, fairly small message size, and
extensibility without the need for version negotiation.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">CBOR does not provide any forms of data compression.
While
traditional data compression techniques such as DEFLATE (RFC 1951)
can work well for CBOR encoded data items, their disadvantage is that
the recipient needs to decompress the compressed form to make use of
the data.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
<p id="section-abstract-4">This document describes a set of CBOR simple values which can be used
by different specifications utilizing them for CBOR transformations,
such as compression or templating, in a non-conflicting way.
This
allows for future standards to reuse the smallest values range while
inventing better ways to use them for achieving their goals.<a href="#section-abstract-4" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://nuclight.github.io/cbor-spec-rfcregsimples/draft-ietf-goncharov-rfcregsimples.html">https://nuclight.github.io/cbor-spec-rfcregsimples/draft-ietf-goncharov-rfcregsimples.html</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-ietf-goncharov-rfcregsimples/">https://datatracker.ietf.org/doc/draft-ietf-goncharov-rfcregsimples/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/nuclight/cbor-spec-rfcregsimples">https://github.com/nuclight/cbor-spec-rfcregsimples</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 19 April 2026.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-terminology-and-conventions" class="internal xref">Terminology and Conventions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-motivation" class="internal xref">Motivation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-specification" class="internal xref">Specification</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-interoperability" class="internal xref">Interoperability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-validity-checking" class="internal xref">Validity checking.</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-references" class="internal xref">References.</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-authors-address" class="internal xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="terminology-and-conventions">
<section id="section-1">
      <h2 id="name-terminology-and-conventions">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-terminology-and-conventions" class="section-name selfRef">Terminology and Conventions</a>
      </h2>
<p id="section-1-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">TBD any other terminology needed here?..<a href="#section-1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="motivation">
<section id="section-2">
      <h2 id="name-motivation">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-motivation" class="section-name selfRef">Motivation</a>
      </h2>
<p id="section-2-1">In a world of constrained devices (IoT) such devices are often have
very little memory.
While these devices are also constrained in
e.g. packet size so that compression is very desirable.
Traditional
generic compression algorithms like DEFLATE [RFC1951] perform well
but require memory both for decompressed data and internal state of
decompressor itself.
Many constrained implementations would want to
trade-off between compression ratio and required memory - tolerating
worse compression by lowering memory usage, ideally to zero bytes
(that is, using compressed data in-place as-is).
In the ongoing IETF
efforts the "MyLED" example in JSON [MyLED] takes 1210 bytes
converted to CBOR which may be further reduced to about 350 bytes
using DEFLATE, but this require more than 1.5 Kbytes of memory during
decompression - in contrast, work in progress specifications like
[draft-cbor-packed] and [CBAR] are able to reduce this example to
about 500 bytes, however accessible in-place, without need for
decompression buffer at all.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">Sixteen simple values were intended to be used for compression
purposes in the original CBOR proposal, but didn't get into the
standard at the time being due to the complexity of the task.
Since
then, more than one proposal for compression techniques has appeared.
While the usual way for Internet specifications is to acquire
different codepoints (or ranges of them) from IANA, this does not
work well in the compression world given the specifics of CBOR
encoding - that is, different numbers are encoded in CBOR occupying
different number of bytes.
Compression efficiency, however, is very
sensitive to length of codes used - the shorter is better.
Thus,
registration of short codes range for one standard exclusively would
put other standards - especially future standards - into inequal and
unfair position if there are no more short codes left for them.
However, it is known that future inventions tend to be more effective
in usage of same resources but are impossible to predict at the time
of prior standard issued (otherwise enhancements would be already
incorporated into it).
As (at the time of writing) there are only 20
single-byte CBOR simple values available for registration, such
situation can happen with just the first standard accepted.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">Therefore, this document registers first sixteen CBOR simple values
(0 to 15) in such a way that they could be used by different
compression methods (different specifications), both existing and not
yet invented.
The way for decoder to distinguish them - that is, to
interpret according to one specification or another - is done via
CBOR Tag (acting as a "namespace") or by external means such as
messages' media type.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">This range registration is similar in spirit to [RFC 4251] allocating
a range of message numbers e.g. 30 to 49 to be key exchange method
specific, stating that numbers can be reused for different
authentication methods - and examples of specifications using such
range are [RFC 4419], [RFC 4432] or [RFC 5656].<a href="#section-2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="specification">
<section id="section-3">
      <h2 id="name-specification">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-specification" class="section-name selfRef">Specification</a>
      </h2>
<p id="section-3-1">This document registers CBOR values simple(0) to simple(15) for needs
like packing or templating CBOR documents.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Following spirit of [RFC 4251], this specification could just declare
this range to be packing/templating method specific (so text could
end right here), but this would not be very useful to CBOR parsers
implementers in terms of what could be expected from these values or
what kind of changes may specific packing/templating methods require
in their parsers.
So in the text below we take slightly another approach.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">This specification tries, speaking in object-oriented terms, to be
the "Abstract Base Class" for other specifications to "inherit", in
the sense of describing meaning as broad as possible, but concrete
specifications do not need to implement every imaginable feature and
<span class="bcp14">MAY</span> choose to define only subset.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">Application protocols using CBOR simple values in 0..15 range, or
generic packing/templating specifications, should include reference
to this RFC about using range and then describe precise usage of
these simple values.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">The semantics of these simple values 0 to 15 is that they are
substitutions for one or several other CBOR items.
That is, when
decoder sees values simple(0) to simple(15), it treats them as some
mapping function (0 to 15 may be viewed as argument here) which takes
argument and, depending on current decoder state, returns CBOR
item(s) to substitute instead of simple value, as if simple value
never occured in the stream, but returned CBOR item(s) occured
instead.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">Such mapping function may be very complex, taking into account even
surrounding CBOR items context to decide.
Or (especially expected
for short-term solutions) "inheriting" specification may choose it
to be rather simple, for example, simple(0)..simple(15) could be
references (indexes) to some (kept by decoding process) table, or
part of such table, so that instead of simple value an integral
number of CBOR items is substituted from table entry.
Note that this
replacement items do not necessarily form a complete well-formed CBOR
item if viewed separately as entry in the table. For example,
a sequence<a href="#section-3-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-7">
<pre>
  [..., 1, 2, simple(2), "a", "b", "c", ...]
</pre><a href="#section-3-7" class="pilcrow">¶</a>
</div>
<p id="section-3-8">could expand to<a href="#section-3-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-9">
<pre>
  [..., 1, 2, ["foo", "bar", "a"], "b", "c", ...]
</pre><a href="#section-3-9" class="pilcrow">¶</a>
</div>
<p id="section-3-10">if the entry for simple(2) at this moment contained definite-length
array start item (0x83) and two string items "foo" and "bar".<a href="#section-3-10" class="pilcrow">¶</a></p>
<p id="section-3-11">(Informally speaking, this could be described as "cut" in text editor
a whole number of tokens (counting each string, brace, etc. as one
token) in CBOR diagnostic notation and then "paste" it instead of
each simple(N) occurrence).<a href="#section-3-11" class="pilcrow">¶</a></p>
<p id="section-3-12">Please note that "surrounding CBOR items context" (if specification
goes complex way) may include e.g. absolute or relative position of
simple value.
In the (imaginary non-normative) example:<a href="#section-3-12" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-13">
<pre>
  10([simple(0), 16, "atom1",
     {
       "foo": simple(0),
       "bar": 10([simple(0), 16, "otheratom",
                 {
                    "baz": simple(0),
                    "quux": 10(122(0))
                 }
              ])
     }
  ])
</pre><a href="#section-3-13" class="pilcrow">¶</a>
</div>
<p id="section-3-14">the simple(0) at the very start of array expands to "function-name",
but same simple(0) as the map value expands to (presumably) "atom1"
under "foo" key and to "otheratom" under "baz" key.
That is, if
packing method specification chooses "index in table" approach, there
could be several such tables.<a href="#section-3-14" class="pilcrow">¶</a></p>
<p id="section-3-15">Even more, "surrounding context" usage is not prohibited from
explicit arguments and their "swallowing" after substitution, for
example, in<a href="#section-3-15" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-16">
<pre>
  [..., 1, 2, "arg1", "arg2", simple(2), 3, ...]
</pre><a href="#section-3-16" class="pilcrow">¶</a>
</div>
<p id="section-3-17">or<a href="#section-3-17" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-18">
<pre>
  [..., 1, 2, simple(2), "arg1", "arg2", 3, ...]
</pre><a href="#section-3-18" class="pilcrow">¶</a>
</div>
<p id="section-3-19">simple(2) could be viewed as a function call telling to use 2
arguments from surrounding CBOR items, and then do something based
on "arg1" and "arg2", so probably the whole triple will be replaced
by function return value, not just simple(N) itself:<a href="#section-3-19" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-20">
<pre>
  [..., 1, 2, {"substituted": "sequence"}, ['frobnicate'], 3, ...]
</pre><a href="#section-3-20" class="pilcrow">¶</a>
</div>
<p id="section-3-21">However, such advanced usage is <span class="bcp14">NOT RECOMMENDED</span> for generic
specifications because it is hard to do it right with generic CBOR
parsers if such parsers are streaming / event-based.  (This may be
not true for application-specific parsers in application-specific
packing/templating methods.)<a href="#section-3-21" class="pilcrow">¶</a></p>
<p id="section-3-22">Therefore, as usage of simple(0)..simple(15) can modify structure of
CBOR document, they <span class="bcp14">SHOULD</span> be treated as error if used outside of an
area where table (or part of such table) is not set up, e.g. outside
of "namespace" tag or implied by media type.
Exact mechanism to setup
such tables (or modify it so that same simple value may expand to
different content in different parts of CBOR stream) is left for
definition by application protocol, or an application protocol may
"inherit" it (implemented in a library) from generic specification
from appropriate IETF RFC document (such as [draft-cbor-packed]).<a href="#section-3-22" class="pilcrow">¶</a></p>
<div id="interoperability">
<section id="section-3.1">
        <h3 id="name-interoperability">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-interoperability" class="section-name selfRef">Interoperability</a>
        </h3>
<p id="section-3.1-1">Note that it is straightforward to have usage of simple values of
different compression/templating specifications in the
non-overlapping areas of a single CBOR document, because the primary
method for specifications to manifest themselves is via using some
CBOR Tag(s) as a "namespace" ("area"), like in this example:<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.1-2">
<pre>
  {
    "foo": 55510([..., simple(1), /meaning by spec 1/ ...]),
    "bar": 55513([..., simple(1), /meaning by spec 2/ ...])
  }
</pre><a href="#section-3.1-2" class="pilcrow">¶</a>
</div>
<p id="section-3.1-3">(the tag numbers here are fictitious to be used just as an example).<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">Tag nesting, however, which could be used for things like providing
output of one decompression phase (by one specification) as input for
another (by same or different specification) is more complicated case
details of which are left out from this document to be defined by
actual specifications.
It is noted here for specifications' authors
that possibility of such multi-phase (nested) processing is the
reason for a "should" requirement above instead of "must" because
simple values (of 0..15 range) produced as a result one phase may be
fed to a different decoder.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<p id="section-3.1-5">Here, only some basic principle for tag nesting is defined: packing
method tag <span class="bcp14">MUST NOT</span> be used as outer if it does not support
preserving non-own simple values after applying it's transformations
(unpacking).
This is best illustrated by example: suppose that
for imaginary tags above, specification of tag 55510 supports such
preserving (in example, it will list integers corresponding to simple
numbers and values corresponding to them) by leaving them as-is, and
specification of tag 55513 uses simplistic implementation where
simple(N) is just index N into table.
Then, the following example is valid:<a href="#section-3.1-5" class="pilcrow">¶</a></p>
<p id="section-3.1-6">    55510([10, "foo", 11, "bar", 12, "baz", /* outer tag's setup <em>/
         /</em> outer tag's transformed data area <em>/
         55513([                                    /</em> inner tag's <em>/
            ["rgbValue", "rgbValueRed", "rgbValueGreen"], /</em> setup <em>/
            [/</em> inner tag's transformed data area */
               simple(0), simple(1), simple(2), simple(10),
               simple(0), simple(1), simple(2), simple(11),
               simple(0), simple(1), simple(2), simple(12)
            ]
         ])
      ])<a href="#section-3.1-6" class="pilcrow">¶</a></p>
<p id="section-3.1-7">As tags are processed from outside to inside, decoder of tag 55510
will make this fragment equivalent to:<a href="#section-3.1-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.1-8">
<pre>
  55513([                                    /* inner tag's */
     ["rgbValue", "rgbValueRed", "rgbValueGreen"], /* setup */
     [/* inner tag's transformed data area */
        simple(0), simple(1), simple(2), "foo",
        simple(0), simple(1), simple(2), "bar",
        simple(0), simple(1), simple(2), "baz"
     ]
  ])
</pre><a href="#section-3.1-8" class="pilcrow">¶</a>
</div>
<p id="section-3.1-9">which decoder of tag 55513 finally turns into unpacked form:<a href="#section-3.1-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.1-10">
<pre>
  [
     "rgbValue", "rgbValueRed", "rgbValueGreen", "foo",
     "rgbValue", "rgbValueRed", "rgbValueGreen", "bar",
     "rgbValue", "rgbValueRed", "rgbValueGreen", "baz"
  ]
</pre><a href="#section-3.1-10" class="pilcrow">¶</a>
</div>
<p id="section-3.1-11">However, the opposite is not possible because specification of tag
55513 does not make exceptions.
The following example is NOT valid:<a href="#section-3.1-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.1-12">
<pre>
  55513([                                    /* outer tag's */
     ["rgbValue", "rgbValueRed", "rgbValueGreen"], /* setup */
     /* outer tag's transformed data area */
     55510([10, "foo", 11, "bar", 12, "baz", /* inner setup */
        [/* inner tag's transformed data area */
           simple(0), simple(1), simple(2), simple(10),
           simple(0), simple(1), simple(2), simple(11),
           simple(0), simple(1), simple(2), simple(12)
        ]
     ])
  ])
</pre><a href="#section-3.1-12" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="validity-checking">
<section id="section-3.2">
        <h3 id="name-validity-checking">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-validity-checking" class="section-name selfRef">Validity checking.</a>
        </h3>
<p id="section-3.2-1">Please note that the whole concept of CBOR document transformation,
be it packing or templating, means that, in general case, it is
not safe to do validity-checks even on known tags as described by
Section 5.3.2 of [RFC 8949].
For example, Tag 32 means URI and
requires text string as a content.
However, the goal of packing is
to reduce redundant information, which may mean replacing such text
string with simple value, raising possibility of the following
example:<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.2-2">
<pre>
  55513([..., 32(simple(1)), ...]
</pre><a href="#section-3.2-2" class="pilcrow">¶</a>
</div>
<p id="section-3.2-3">which would be considered as error by validity-checking decoder.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">Note that Section 5.4 of [RFC 8949] does not cover this case, because
it is focused on evolution, however, with packing mechanisms this may
occur with not new but already known, stable tags.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">Therefore, this document updates Section 5.4 of [RFC 8949] dictating
that generic decoders performing validity-checking <span class="bcp14">MUST</span> provide a
way to disable this validity-checking.
Note that a mode, where
decoder knows packing method and postpones validity-checking after
unpacking, is possible - but is not sufficient because newer
specifications, yet unknown to such decoder, may appear in the future
after it's deployment.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-4">
      <h2 id="name-iana-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-4-1">In the registry "CBOR Simple Values" [IANA.cbor-simple-values], IANA
is requested to allocate the simple values defined in Table 1.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-2">
<pre>
   +=======+===================================+===========+
   | Value | Semantics                         | Reference |
   +=======+===================================+===========+
   | 0..15 | Packing and templating: shared by | RFC 9NNN  |
   |       | multiple specifications           |           |
   +-------+-----------------------------------+-----------+

                      Table 1: Simple Values
</pre><a href="#section-4-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-5">
      <h2 id="name-security-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-5-1">The security considerations of [STD94] apply.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">If the specification chooses to implement generic non-well-formed
entries in table (modifying CBOR structure as in example above), care
must be taken to avoid implementation bugs potentially leading to
out-of-bounds accesses.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">Specifications must decide what to do with possibility of decoding
loops or infinite recursion, for example, if table entry for
simple(M) includes another simple(N) values which then may be
expanded recursively.  Possible ways are either to not expand it at
all, allowing for aforementioned multi-phase processing, or provide
counter-measures similar to symlink processing in filesystems, or
something else.<a href="#section-5-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="references">
<section id="section-6">
      <h2 id="name-references">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-references" class="section-name selfRef">References.</a>
      </h2>
<p id="section-6-1">TODO move it in YAML where appropriate<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">```
6.1. Normative References<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">[BCP14]    Best Current Practice 14,
              <a href="https://www.rfc-editor.org/info/bcp14">https://www.rfc-editor.org/info/bcp14</a>.
              At the time of writing, this BCP comprises the following:<a href="#section-6-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6-4">
<pre>
          Bradner, S., "Key words for use in RFCs to Indicate
          Requirement Levels", BCP 14, RFC 2119,
          DOI 10.17487/RFC2119, March 1997,
          &lt;https://www.rfc-editor.org/info/rfc2119&gt;.

          Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
          2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
          May 2017, &lt;https://www.rfc-editor.org/info/rfc8174&gt;.
</pre><a href="#section-6-4" class="pilcrow">¶</a>
</div>
<p id="section-6-5">[IANA.cbor-simple-values]
              IANA, "Concise Binary Object Representation (CBOR) Simple
              Values",
              <a href="https://www.iana.org/assignments/cbor-simple-values">https://www.iana.org/assignments/cbor-simple-values</a>.<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6">[STD94]    Internet Standard 94,
              <a href="https://www.rfc-editor.org/info/std94">https://www.rfc-editor.org/info/std94</a>.
              At the time of writing, this STD comprises the following:<a href="#section-6-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6-7">
<pre>
          Bormann, C. and P. Hoffman, "Concise Binary Object
          Representation (CBOR)", STD 94, RFC 8949,
          DOI 10.17487/RFC8949, December 2020,
          &lt;https://www.rfc-editor.org/info/rfc8949&gt;.
</pre><a href="#section-6-7" class="pilcrow">¶</a>
</div>
<p id="section-6-8">[I-D.ietf-cbor-packed]
              Bormann, C. and M. Gütschow, "Packed CBOR", Work in
              Progress, Internet-Draft, draft-ietf-cbor-packed-13, 1
              September 2024, &lt;https://datatracker.ietf.org/doc/html/
              draft-ietf-cbor-packed-13&gt;.<a href="#section-6-8" class="pilcrow">¶</a></p>
<p id="section-6-9">6.2. Informative References<a href="#section-6-9" class="pilcrow">¶</a></p>
<p id="section-6-10">[RFC1951]  Deutsch, P., "DEFLATE Compressed Data Format Specification
              version 1.3", RFC 1951, DOI 10.17487/RFC1951, May 1996,
              <a href="https://www.rfc-editor.org/rfc/rfc1951">https://www.rfc-editor.org/rfc/rfc1951</a>.<a href="#section-6-10" class="pilcrow">¶</a></p>
<p id="section-6-11">[RFC4251]  Ylonen, T. and C. Lonvick, Ed., "The Secure Shell
              (SSH) Protocol Architecture", RFC 4251, January 2006.<a href="#section-6-11" class="pilcrow">¶</a></p>
<p id="section-6-12">[RFC4419]  Friedl, M., Provos, N., and W. Simpson, "Diffie-
              Hellman Group Exchange for the Secure Shell (SSH)
              Transport Layer Protocol", RFC 4419, March 2006.<a href="#section-6-12" class="pilcrow">¶</a></p>
<p id="section-6-13">[RFC4432]  Harris, B., "RSA Key Exchange for the Secure Shell
              (SSH) Transport Layer Protocol", RFC 4432, March 2006.<a href="#section-6-13" class="pilcrow">¶</a></p>
<p id="section-6-14">[RFC5656]  Stebila, D. and J. Green, "Elliptic Curve Algorithm
              Integration in the Secure Shell Transport Layer",
              RFC 5656, December 2009.<a href="#section-6-14" class="pilcrow">¶</a></p>
<p id="section-6-15">[MyLED]    &lt;https://github.com/w3c/wot-thing-description/raw/
              db8abb3655afc7f149db7976ba4e79149619f537/test-bed/data/
              plugfest/2017-05-osaka/MyLED_f.jsonld&gt;<a href="#section-6-15" class="pilcrow">¶</a></p>
<p id="section-6-16">[CBAR]     Goncharov, V., "CBOR &amp; generic BLOB by-Atoms Reducing",
              Work in Progress,
              <a href="https://github.com/nuclight/musctp/blob/main/cbar.txt">https://github.com/nuclight/musctp/blob/main/cbar.txt</a><a href="#section-6-16" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6-17">
<li id="section-6-17.1">
          <p id="section-6-17.1.1">Authors' Addresses<a href="#section-6-17.1.1" class="pilcrow">¶</a></p>
<p id="section-6-17.1.2">
Carsten Bormann
Universität Bremen TZI
Postfach 330440
D-28359 Bremen
Germany
Phone: +49-421-218-63921
Email: cabo@tzi.org<a href="#section-6-17.1.2" class="pilcrow">¶</a></p>
<p id="section-6-17.1.3">
Vadim Goncharov
Email: vadimnuclight@gmail.com
```<a href="#section-6-17.1.3" class="pilcrow">¶</a></p>
</li>
      </ol>
</section>
</div>
<div id="sec-normative-references">
<section id="section-7">
      <h2 id="name-normative-references">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
    <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">TODO acknowledge.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Vadim Goncharov</span></div>
<div dir="auto" class="left"><span class="org">Your Organization Here</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:vadimnuclight@gmail.com" class="email">vadimnuclight@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
